# Git 컨벤션

## 1. 개요

이 문서는 PlayProbie 팀의 Git 협업 규칙을 정의합니다. 모든 코드 변경사항은 이 규칙을 따라야 합니다.

---

## 2. 브랜치 전략

**GitHub Flow 기반**

| 브랜치               | 용도                    |
| -------------------- | ----------------------- |
| `main`               | 배포 가능한 안정 버전   |
| `develop`            | 개발 통합 브랜치        |
| `feat/#이슈번호`     | 새로운 기능 개발        |
| `fix/#이슈번호`      | 버그 수정               |
| `refactor/#이슈번호` | 코드 리팩토링           |
| `docs/#이슈번호`     | 문서 작업               |
| `chore/#이슈번호`    | 빌드, 설정 등 기타 작업 |

**예시**

- `feat/#12` → 12번 이슈의 기능 개발
- `fix/#45` → 45번 이슈의 버그 수정
- `refactor/#32` → 32번 이슈의 리팩토링

---

## 3. 커밋 메시지 컨벤션

**Conventional Commits 형식**

```
<type>: <subject>

<body>
```

**Type 종류**

| Type       | 설명                            |
| ---------- | ------------------------------- |
| `feat`     | 새로운 기능 추가                |
| `fix`      | 버그 수정                       |
| `docs`     | 문서 수정                       |
| `style`    | 코드 포맷팅 (세미콜론, 공백 등) |
| `refactor` | 코드 리팩토링                   |
| `test`     | 테스트 코드 추가/수정           |
| `chore`    | 빌드, 패키지 등 기타 변경       |

**Subject (제목) 작성법**

| 규칙        | 설명                    | 예시                              |
| ----------- | ----------------------- | --------------------------------- |
| 50자 이내   | 간결하게 요약           | ✅ `로그인 유효성 검사 추가`      |
| 동사로 시작 | 명령문 형태로 작성      | ✅ `추가`, `수정`, `삭제`, `개선` |
| 마침표 없음 | 제목 끝에 `.` 사용 금지 | ❌ `로그인 기능 추가.`            |
| 한글 사용   | 팀 내 합의된 언어 사용  | ✅ `로그인 기능 추가`             |

**Body (본문) 작성법**

| 규칙        | 설명                                        |
| ----------- | ------------------------------------------- |
| 무엇을 & 왜 | "어떻게"보다 "무엇을", "왜" 변경했는지 설명 |
| 72자 줄바꿈 | 가독성을 위해 72자마다 줄바꿈               |
| 빈 줄 구분  | Subject와 Body 사이에 빈 줄 필수            |
| 리스트 활용 | `-` 또는 `*`로 항목 구분 가능               |

**좋은 Subject vs 나쁜 Subject**

| ✅ 좋은 예시                           | ❌ 나쁜 예시                   |
| -------------------------------------- | ------------------------------ |
| `feat: 소셜 로그인 기능 추가`          | `feat: 소셜 로그인 기능 추가.` |
| `fix: 로그인 시 토큰 만료 문제 해결`   | `fix: 버그 수정`               |
| `refactor: UserService 중복 코드 제거` | `refactor: 코드 정리`          |
| `docs: API 명세서 업데이트`            | `update docs`                  |

**예시**

```
feat: 소셜 로그인 기능 추가

- Google OAuth 2.0 연동
- 로그인 상태 유지 기능 구현
```

---

## 4. PR (Pull Request) 규칙

**PR 제목 형식**

- 기본적으로 Commit 컨벤션의 형태를 따라감

```
[Type]: 작업 내용 요약
```

**PR 템플릿**

```markdown
## 📌 관련 이슈

- Closes #

## ✨ 작업 내용 (Summary)

- [ ]

## 🚧 의존성 및 주의사항 (Dependencies) ⭐

- [ ] 없음

## ✅ 자가 점검 (Self Checklist)

<!-- 로컬에서 돌려보셨죠? -->

- [ ] 빌드 및 테스트가 통과하였는가?
```

**커밋 단위 가이드**

PR 내부의 커밋은 리뷰어가 변경사항을 이해하기 쉽도록 논리적 단위로 나눠주세요.

| 원칙      | 설명                              |
| --------- | --------------------------------- |
| 단일 책임 | 하나의 커밋은 하나의 목적만 가짐  |
| 동작 가능 | 각 커밋 시점에서 빌드/테스트 통과 |
| 리뷰 용이 | 커밋별로 리뷰할 수 있는 크기 유지 |

**좋은 예시**

```
feat: User 엔티티 및 Repository 추가
feat: 회원가입 API 구현
feat: 회원가입 유효성 검사 추가
test: 회원가입 API 테스트 작성
```

**나쁜 예시**

```
feat: 회원가입 기능 구현 (엔티티, API, 테스트 전부 포함)
fix: 오타 수정
fix: 또 오타 수정
wip: 작업 중
```

> 💡 최종적으로 Squash Merge되므로 커밋 히스토리는 PR 단위로 정리됩니다. 하지만 리뷰 과정에서 변경사항 추적을 위해 논리적 커밋 분리를 권장합니다.

**머지 규칙**

- 최소 2명 이상 Approve 필수
- CI 통과 필수
- **Squash Merge 사용**
